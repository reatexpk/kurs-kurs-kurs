# –õ–∞–π—Ñ—Å–∞–π–∫–ª-–º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ –ú–∞—Ä–∫—Å—É
–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ —Å—Ç–µ–π—Ç–∞–º –∏ –ø–æ–≥—Ä—É–∂–∞–µ–º—Å—è –Ω–µ–º–Ω–æ–≥–æ –≤ –û–û–ü —á—Ç–æ–±—ã –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º–∏ –∏ –ª–∞–π—Ñ—Å–∞–π–∫–ª-–º–µ—Ç–æ–¥–∞–º–∏

## –õ–∞–π—Ñ—Å–∞–π–∫–ª-–º–µ—Ç–æ–¥—ã

–û–∫–µ–π, –ø–æ–Ω—è–ª–∏ —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –º–∞–∫–µ—Ç–∞ –æ—Ç–ª–∏—á–∞–µ—Ç **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç —Å –Ω–∏–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –∏ —Ñ—Ä–æ–Ω—Ç—ç–Ω–¥ –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —ç—Ç–∏ **—Å–æ–±—ã—Ç–∏—è**.

–ù–æ —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω–∞–º –≤ –†–µ–∞–∫—Ç–µ –Ω—É–∂–Ω—ã —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ—á–µ–Ω—å –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥–µ–π—Å—Ç–≤–∏–π –ª—é–¥–µ–π? –ù–∞–ø—Ä–∏–º–µ—Ä, —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º —á—Ç–æ-—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∏ —ç—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å? –ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?

–î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å **–ª–∞–π—Ñ—Å–∞–π–∫–ª-–º–µ—Ç–æ–¥—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**: —Ç–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è **–µ–≥–æ –∂–∏–∑–Ω–∏**. –≠—Ç–∏—Ö –≤—Å–∞–¥–Ω–∏–∫–æ–≤ –∞–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å–æ–≤ –∞–∂ —Ü–µ–ª—ã—Ö –≤–æ—Å–µ–º—å –∏ –∏–∑ –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –ø–æ–Ω—è—Ç–Ω–æ, –∫–æ–≥–¥–∞ –æ–Ω–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è:

### –ú–∞—É–Ω—Ç–∏–Ω–≥ –∏ –∞–Ω–º–∞—É—Ç–∏–Ω–≥

–ú–∞—É–Ω—Ç–∏–Ω–≥ (mounting) —ç—Ç–æ –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Å–∫–∞–∂–µ–º —Ç–∞–∫, _—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è_. –î–ª—è —ç—Ç–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –µ—Å—Ç—å —Ç—Ä–∏ —Å—Ç–µ–π—Ç–∞:

* [`componentWillMount()`](https://reactjs.org/docs/react-component.html#componentwillmount)
* [`render()`](https://reactjs.org/docs/react-component.html#render) (–¥–∞, —Ä–µ–Ω–¥–µ—Ä –ø–æ —Å—É—Ç–∏ —ç—Ç–æ —Ç–æ–∂–µ –ª–∞–π—Ñ—Å–∞–π–∫–ª-–º–µ—Ç–æ–¥!)
* [`componentDidMount()`](https://reactjs.org/docs/react-component.html#componentdidmount)
* [`componentWillUnmount()`](https://reactjs.org/docs/react-component.html#componentwillunmount)

### –ê–ø–¥–µ–π—Ç—ã

_(—Å–ø–∏—Å–æ–∫ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –ø–æ –ø–æ—Ä—è–¥–∫—É –≤—ã–∑–æ–≤–∞ –ª–∞–π—Ñ—Å–∞–π–∫–ª–æ–≤)_

* [`componentWillReceiveProps(nextProps)`](https://reactjs.org/docs/react-component.html#componentwillreceiveprops)
* [`shouldComponentUpdate(nextProps, nextState)`](https://reactjs.org/docs/react-component.html#shouldcomponentupdate) ‚Äî –º–µ—Ç–æ–¥, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å, –Ω—É–∂–Ω–æ –ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ-—Ä–µ–Ω–¥–µ—Ä (–æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π)
* [`componentWillUpdate(nextProps, nextState)`](https://reactjs.org/docs/react-component.html#componentwillupdate)
* [`render()`](https://reactjs.org/docs/react-component.html#render)
* [`componentDidUpdate(prevState, prevProps)`](https://reactjs.org/docs/react-component.html#componentdidupdate)

### –û—à–∏–±–∫–∏

–†–µ–∞–∫—Ç –±—Ä–æ—Å–∏—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –æ–Ω –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –æ—à–∏–±–ª–∏—Å—å –≤ —Ç–∏–ø–∞—Ö –∏ –ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å–¥–µ–ª–∞—Ç—å `.map()` –ø–æ –æ–±—ä–µ–∫—Ç—É), –Ω–æ –∫–∞–∫ —ç—Ç—É –æ—à–∏–±–∫—É –æ—Ç–ª–æ–≤–∏—Ç—å? –õ–∞–π—Ñ—Å–∞–π–∫–ª–æ–º.

* [`componentDidCatch(error, info)`](https://reactjs.org/docs/react-component.html#componentdidcatch)

–ß—Ç–æ —Å –Ω–µ–π –ø–æ—Ç–æ–º –¥–µ–ª–∞—Ç—å? –ú–æ–∂–Ω–æ –≤ —Å—Ç–µ–π—Ç –ø–æ—Å—Ç–∞–≤–∏—Ç—å `error: true` –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–∫–∞–∑–∞—Ç—å –ø–ª–∞—à–∫—É ¬´–°–æ—Ä—è–Ω, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞¬ª, –∞ —Å–∞–º—É –æ—à–∏–±–∫—É –ø–æ–π–º–∞—Ç—å –≤ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å —Å–µ—Ä–≤–∏—Å —Ç–∏–ø–∞ [Sentry](http://sentry.io/) –∏–ª–∏ [Bugsnag](https://www.bugsnag.com/).

```jsx
// src/Movies/index.js
import React from 'react';
import bugsnag from 'bugsnag';

import Movies from './List';
import { Alert } from '../ui';

class extends React.Component {
  componentDidCatch(error, info) {
    bugsnag.notify(error);
  }

  render() {
    return (
      <section>
        <Alert>
          –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –º—ã —É–∂–µ –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º
        </Alert>

        <Movies data={data} />
      </section>
    )
  }
}
```

> –ö—Å—Ç–∞—Ç–∏, —É –ë–∞–≥—Å–Ω–µ–≥–∞ –µ—Å—Ç—å –¥–∞–∂–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç](https://docs.bugsnag.com/platforms/browsers/react/) –¥–ª—è [Error Boundaries](https://reactjs.org/docs/error-boundaries.html) ‚Äî —ç—Ç–æ –∫–æ–Ω—Ü–µ–ø—Ç —Ä–∞–±–æ—Ç—ã –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–π [–ø–æ—è–≤–∏–ª—Å—è –≤ –†–µ–∞–∫—Ç–µ 16](https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html).

–ù–æ —á—Ç–æ —ç—Ç–æ –∑–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å—Ç—Ä–∞–Ω–Ω—ã–π? –ü–æ—á–µ–º—É –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é `componentDidCatch() {}` –±–µ–∑ `function`, –¥–∞ –µ—â—ë –∏ –æ–±–µ—Ä–Ω—É–ª–∏ –≤ `class`?

## –ö–ª–∞—Å—Å—ã üëçüèª

–í –ø–æ–∑–∞–ø—Ä–æ—à–ª–æ–º —É—Ä–æ–∫–µ –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –ø—Ä–æ —Å—Ç–µ–π—Ç—ã, –Ω–æ —Ç–∞–º –º—ã —Ä–∞–±–æ—Ç–∞–ª–∏ —Å –ø—Å–µ–≤–¥–æ–∫–æ–¥–æ–º ‚Äî –¥–∞, —è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –ø–æ–∫–∞–∑–∞–ª —Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–¥, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ –±—ã–ª–æ —Ä–∞–Ω–æ. –°–µ–π—á–∞—Å ‚Äî —Å–∞–º–æ–µ –≤—Ä–µ–º—è.

–û–∫–µ–π, –≤–æ—Ç –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –∏ –≤—Å—ë –ø–æ–Ω—è—Ç–Ω–æ, –∫–æ–≥–¥–∞ —Ä–µ—á—å –∏–¥—ë—Ç –ø—Ä–æ –≤—ë—Ä—Å—Ç–∫—É: –≤–æ–∑–≤—Ä–∞—â–∞–π —á–µ—Ä–µ–∑ `return` –î–∂—Å—Ö, –†–µ–∞–∫—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–∑ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–ù–æ —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å–æ —Å—Ç–µ–π—Ç–∞–º–∏? –ò–ª–∏ –ª–∞–π—Ñ—Å–∞–π–∫–ª–∞–º–∏? –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º—ã–π –∫—É—Å–æ–∫ –∫–æ–¥–∞, —Ç–æ –∫—É–¥–∞ —ç—Ç–æ –≤—Å—ë –≤–ø–∏—Ö–Ω—É—Ç—å? –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–µ–π—Ç? –ö–∞–∫ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ª–∞–π—Ñ—Å–∞–π–∫–ª—ã?

–î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –∫–ª–∞—Å—Å—ã ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–≥—É—Ç –±—ã—Ç—å **–º–µ—Ç–æ–¥—ã** –∏ **–ø–æ–ª—è**. –ü—Ä–∏–º–µ—Ä?

```jsx
class Rectangle {
  constructor(height, width) {
    this.height = height;
    this.width = width;
  }

  calcTotal() {
    return this.height * this.width;
  }
}

const square = new Rectangle(10, 10);

console.log(square); // Rectangle { width: 10, height: 10 }
console.log(square.calcTotal()); // 100
```

–ù–∞–¥–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è!

---

–ö–ª–∞—Å—Å—ã –ø—Ä–∏—à–ª–∏ –∏–∑ –æ–±—ä–µ–∫—Ç–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –ø–æ–¥—Ö–æ–¥–∞, —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –ø–æ–∫–∞–∑–∞–≤—à–µ–≥–æ —Å–≤–æ—é –Ω–µ—Å–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

–ù–æ –Ω–µ –≤–µ—Ä—å—Ç–µ –º–Ω–µ –Ω–∞ —Å–ª–æ–≤–æ, –∞ —Ç–æ –ø–æ—Ç–æ–º –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö –±—É–¥–µ—Ç–µ –æ—Ç–≤–µ—á–∞—Ç—å ¬´–û–û–ü –≥–æ–≤–Ω–æ –ø–æ—Ç–æ–º—É —á—Ç–æ –†–æ–¥–∏–æ–Ω–æ–≤ —Ç–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç¬ª, —á—Ç–æ, –ø–æ —Å—É—Ç–∏, –∫–∞—Ä–≥–æ-–∫—É–ª—å—Ç —Å–ª–µ–ø–æ–π. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞ –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –§–ü. –ö—Ä–∞—Å–Ω–æ—Ä–µ—á–∏–≤–µ–µ –≤—Å–µ–≥–æ, –∫–æ–Ω–µ—á–Ω–æ, —ç—Ç–æ—Ç —Å–ª–∞–π–¥ –∏–∑ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è [Functional Programming Design Patterns](https://fsharpforfunandprofit.com/fppatterns/).

![](https://i.imgur.com/PlXT59O.png)

–≠—Ç–æ—Ç —Å–ª–∞–π–¥ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –ø–æ–∫–∞ –ª—é–¥–∏ –≤ –û–û –ø—Ä–∏–¥—É–º—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –ª—é–¥–∏ –≤ –§–ü –ø—Ä–æ—Å—Ç–æ –ø–∏—à—É—Ç –∫–æ–¥ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ö –∏ –Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –±–∞—Ç–∞–ª–∏–∏ ¬´—ç—Ç–æ—Ç –∫–æ–¥ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –Ω–∞ —Ñ–∞–∫—Ç–æ—Ä–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–µ, –∞ –Ω–µ –Ω–∞ –≤–∏–∑–∏—Ç–æ—Ä!¬ª –Ω–∞ –∫–æ–¥-—Ä–µ–≤—å—é.

–û–∫–µ–π, –Ω–æ —É –Ω–∞—Å –µ—Å—Ç—å –∫–ª–∞—Å—Å—ã –≤ –†–µ–∞–∫—Ç–µ –∫–∞–∫ —Å–ø–æ—Å–æ–± **–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –Ω–∞–º –Ω—É–∂–Ω–æ —Å —ç—Ç–∏–º —á—Ç–æ-—Ç–æ –¥–µ–ª–∞—Ç—å. –ü—Ä–∏–¥—ë—Ç—Å—è –∏–∑—É—á–∞—Ç—å (—Ö–æ—Ç—è —Å–æ–≤—Å–µ–º –Ω–µ–¥–∞–≤–Ω–æ –≤—ã—à–µ–ª [@reactions/component](https://github.com/reactions/component) –∏ —Å–ª–∞–≤–∞ –†–∞–π–∞–Ω—É, –º–æ–∂–Ω–æ —É–π—Ç–∏ –æ—Ç –∫–ª–∞—Å—Å–æ–≤).

`constructor` –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ –ø–æ —Å—É—Ç–∏ —Ç–∞–∫–æ–π –∂–µ –ª–∞–π—Ñ—Å–∞–π–∫–ª-–º–µ—Ç–æ–¥, –Ω–æ –Ω–µ –†–µ–∞–∫—Ç–∞, –∞ –ø—Ä–æ—Å—Ç–æ –∫–ª–∞—Å—Å–∞. –í –Ω–µ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ç–æ, —á—Ç–æ –≤—ã –ø–µ—Ä–µ–¥–∞–ª–∏ –ø—Ä–∏ **–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ `new MySuperClass(...)`. –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è **—ç–∫–∑–µ–º–ø–ª—è—Ä** –∫–ª–∞—Å—Å–∞. –¢—è–∂–∫–æ? –ü–æ–Ω–∏–º–∞—é.

–°–ª–µ–¥—É—é—â–µ–µ –Ω–µ–∑–Ω–∞–∫–æ–º–æ–µ –Ω–∞–º —ç—Ç–æ `this`. `this` —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —ç—Ç–æ–º—É **—Å–∫–æ—É–ø—É**. –ü—Ä–∏–º–µ—Ä —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

```js
(function parent() {
  this.x = 1;
  console.log(this.x); // 1

  (function child() {
    console.log(this.x); // 1
    this.x = 2;
    console.log(this.x); // 2
  })();

  console.log(this.x);
})();
```

> –§—É–Ω–∫—Ü–∏–∏ –æ–±—ë—Ä–Ω—É—Ç—ã –≤ `()()` —á—Ç–æ–±—ã –∏—Ö —Å—Ä–∞–∑—É –∂–µ –≤—ã–∑–≤–∞—Ç—å ‚Äî –≤—Ç–æ—Ä—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏ –º—ã –≤—ã–∑—ã–≤–∞–µ–º –∫–∞–∫ –±—É–¥—Ç–æ `myFunc()`, –Ω–æ —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ —Å–∫–æ–±–∫–∏, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ `function {}()` ‚Äî –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –Ω–µ –ø–æ–π–º—ë—Ç —á—Ç–æ –º—ã –æ—Ç –Ω–µ–≥–æ —Ö–æ—Ç–∏–º –∏ –æ—Ç–∫—É–¥–∞ –≤–∑—è–ª–∏—Å—å `()`.

---

–ù–æ –ø–æ—á–µ–º—É —É –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –ø–µ—Ä–≤–æ–º –∫–æ–Ω—Å–æ–ª—å–ª–æ–≥–µ –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω `this` —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π?

–≠—Ç–æ **–∫–ª–æ–∂–∞** (closure, –Ω–∞ —Ä—É—Å—Å–∫–æ–º –æ–±—ã—á–Ω–æ –≥–æ–≤–æ—Ä—è—Ç "–∑–∞–º—ã–∫–∞–Ω–∏–µ") ‚Äî —Ñ—É–Ω–∫—Ü–∏—è —Å–æ –≤—Å–µ–º–∏ –≤–Ω–µ—à–Ω–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏, —á—Ç–æ –µ–π –¥–æ—Å—Ç—É–ø–Ω—ã. –í—Ç–æ—Ä–æ–π –ø—Ä–∏–º–µ—Ä –Ω–∞ –∫–ª–æ–∂—É:

```js
const x = 1;

(function() {
  const y = 2;

  console.log(x); // 1

  (function() {
    const z = 3;

    console.log(y); // 2
    console.log(z); // 3
  })();

  console.log(z); // ReferenceError: z is not defined
})();

console.log(y); // ReferenceError: y is not defined
console.log(z); // ReferenceError: z is not defined
```

–ü–æ—á–µ–º—É `y` –∏ `z` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã? –ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç–µ—Ö –¥–≤—É—Ö —Ñ—É–Ω–∫—Ü–∏–π.

---

–û–∫–µ–π, —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å –∫–ª–æ–∂–∞–º–∏ –∏ `this`, —Ä–∞–∑–≤–µ —á—Ç–æ –¥–æ–±–∞–≤–ª—é, —á—Ç–æ —É –∫–∞–∂–¥–æ–≥–æ **—ç–∫–∑–µ–º–ø–ª—è—Ä–∞** –∫–ª–∞—Å—Å–∞ —Å–≤–æ–π `this`:

```js
const square = new Rectangle(10, 10);
const rectangle = new Rectangle(100, 203);

console.log(square); // Rectangle { width: 10, height: 10 }
console.log(rectangle); // Rectangle { width: 100, height: 203 }
```

### –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

–í—Ç–æ—Ä–æ–µ, —á—Ç–æ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –≤ –∫–ª–∞—Å—Å–∞—Ö ‚Äî –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ. –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `class extends X {}` –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–∞ X –ø–µ—Ä–µ–π–¥—É—Ç –≤ –Ω–æ–≤—ã–π. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤ —Å–≤–æ—ë–º –∫–ª–∞—Å—Å–µ –≤—ã–∑–≤–∞—Ç—å [`super()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super) –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ.

```js
class X {
  calcTotal() {
    return this.height * this.width;
  }
}

class Rectangle extends X {
  constructor(height, width) {
    super(height, width);
    this.height = height;
    this.width = width;
  }
}

const square = new Rectangle(10, 10);
const rectangle = new Rectangle(100, 203);

console.log(square.calcTotal()); // 100
console.log(rectangle.calcTotal()); // 20300
```

–û–∫–µ–π, –≤—Ä–æ–¥–µ –≤—Å—ë –±–æ–ª–µ–µ-–º–µ–Ω–µ–µ –ø–æ–Ω—è—Ç–Ω–æ, —Ö–æ—Ç—å –∏ –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ, –¥–∞–≤–∞–π—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ –ª–æ–Ω–æ –†–µ–∞–∫—Ç–∞ –∏ –ø–∏—Å–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

## –ö–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–í—Å—ë —ç—Ç–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –∫–ª–∞—Å—Å—ã –Ω—É–∂–Ω–æ –±—ã–ª–æ, —á—Ç–æ–±—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å –≤–∞—Å —Å [–∫–ª–∞—Å—Å–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏](https://reactjs.org/docs/components-and-props.html#functional-and-class-components).

```jsx
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

class WelcomeClassed extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}
```

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —Ä–∞–∑–Ω–∏—Ü–∞ –≤ —Å–ª—É—á–∞–µ —Ä–µ–Ω–¥–µ—Ä–∞ –Ω–µ –æ—Å–æ–±–æ –≤–µ–ª–∏–∫–∞: –Ω—É –ø–æ–¥—É–º–∞–µ—à—å, –æ–±–µ—Ä–Ω—É–ª–∏ –≤ –∫–ª–∞—Å—Å –∏ –ø—Ä–æ–ø–∏—Å–∞–ª–∏ –º–µ—Ç–æ–¥ `render()`, –∞ –ø—Ä–æ–ø—ã –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–µ—Ö–∞–ª–∏ –≤ `this`.

–ö—Å—Ç–∞—Ç–∏, –≤—ã –∂–µ –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ `this` –±—É–¥–µ—Ç —Ä–∞–∑–Ω—ã–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞? –¢–µ–ø–µ—Ä—å –∑–Ω–∞–µ—Ç–µ.

```jsx
class Img extends React.Component {
  render() {
    console.log(this.props);

    return <img src={this.props.src} />;
  }
}

<Img src="https://i.imgur.com/wycmlAg.jpg" /> // { src: "https://i.imgur.com/wycmlAg.jpg" }
<Img src="https://i.imgur.com/82kaBeI.jpg" /> // { src: "https://i.imgur.com/82kaBeI.jpg" }
```

–û–∫–µ–π, –º—ã –æ—Ç–Ω–∞—Å–ª–µ–¥–æ–≤–∞–ª–∏—Å—å –æ—Ç `React.Component`, —á—Ç–æ –Ω–∞–º —ç—Ç–æ –¥–∞—ë—Ç? –ü—Ä–∞–≤–∏–ª—å–Ω–æ, —Ä–∞–±–æ—Ç—É —Å–æ —Å—Ç–µ–π—Ç–∞–º–∏ –∏ –ª–∞–π—Ñ—Å–∞–π–∫–ª—ã-–º–µ—Ç–æ–¥—ã!

### –°—Ç–µ–π—Ç—ã

–ù–∞—á–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –ø–æ–ª–µ –∏–ª–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ

```js
class extends React.Component {
  // —Å—Ç–µ–π—Ç –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –ø–æ–ª–µ
  state = {}

  // –ª–∏–±–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ, –Ω–æ –∑–∞—á–µ–º
  constructor(props) {
    super(props);

    this.state = {};
  }
}
```

–°—Ç–µ–π—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `this.setState()`, –≤ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—Ç–µ–π—Ç. –ß—Ç–æ? –ì–¥–µ –æ–Ω, –µ—Å–ª–∏ –º—ã –µ–≥–æ –Ω–µ –æ–±—ä—è–≤–∏–ª–∏? –Ø–≤–Ω–æ–µ –ª—É—á—à–µ –Ω–µ—è–≤–Ω–æ–≥–æ? –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –û–û–ü, –≥–¥–µ —Ç–∞–∫ –Ω–µ –¥—É–º–∞—é—Ç!

`this.setState()` –Ω–∞–º –ø–æ–¥–∞—Ä–µ–Ω —ç–∫—Å—Ç–µ–Ω–¥–æ–º `React.Component`. –ì–¥–µ –µ–≥–æ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å? –í–µ–∑–¥–µ, –∫—Ä–æ–º–µ —Ä–µ–Ω–¥–µ—Ä–∞

### –õ–∞–π—Ñ—Å–∞–π–∫–ª—ã

–õ–∞–π—Ñ—Å–∞–π–∫–ª—ã —ç—Ç–æ –º–µ—Ç–æ–¥—ã –≤–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –æ–Ω–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Å–∞–º–∏–º –†–µ–∞–∫—Ç–æ–º.

```jsx
// src/Movies/List.js
import React from 'react';
import Card from './Card';
import { Loading } from '../ui';

class Movies extends React.Component {
  // –Ω–∞—á–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç
  state = {
    list: [],
    isLoading: false
  }

  // –ø–æ—á–µ–º—É didMount –≤–º–µ—Å—Ç–æ willMount?
  // https://daveceddia.com/where-fetch-data-componentwillmount-vs-componentdidmount/
  componentDidMount() {
    // –ø–æ—Å—Ç–∞–≤–∏–º —á—Ç–æ –º—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –∑–∞–ø—Ä–æ—Å
    this.setState({ isLoading: true });

    // –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ –ê–ü–ò
    const response = fetch("/api/v1/movies");

    // —Å—Ç–∞–≤–∏–º –≤ —Å—Ç–µ–π—Ç –æ—Ç–≤–µ—Ç
    this.setState({ list: response.list });
  }

  render() {
    // render() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–µ–π—Ç–∞ –∏–ª–∏ –ø—Ä–æ–ø–æ–≤
    // –ø–æ—ç—Ç–æ–º—É –†–µ–∞–∫—Ç —Å–∞–º —Ä–µ—à–∏—Ç —á—Ç–æ –µ–º—É –ø–æ–∫–∞–∑–∞—Ç—å
    // –º—ã –∂–µ –æ–ø–∏—Å—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç —Å—Ç–µ–π—Ç–∞, —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    return (
      <section>
        {this.state.isLoading && <Loading>...</Loading>}
        {this.state.list.map(movie => {
          return <Card data={movie} />
        });
      </section>
    )
  }
}
```

–ù—É–∂–Ω–æ –ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å –∫–ª–∞—Å—Å —á–µ—Ä–µ–∑ `new Movies()`? –ù–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–µ—Ä–µ–∑ –î–∂—Å—Ö –∏–ª–∏ `React.createElement()`, –∞ —Ä–∞–±–æ—Ç—É —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∏–ª–∏ –∫–ª–∞—Å—Å–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –†–µ–∞–∫—Ç –≤–æ–∑—å–º—ë—Ç –Ω–∞ —Å–µ–±—è.

## –ò—Ç–æ–≥

–£—Ä–æ–∫ –ø–æ–ª—É—á–∏–ª—Å—è —Å–ª–æ–∂–Ω—ã–º ‚Äî —ç—Ç–æ –∫–∞–º–µ–Ω—å –≤ –æ–≥–æ—Ä–æ–¥ –û–û–ü. –ö–æ–≥–¥–∞ –º—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –∫ –†–µ–∞–∫—Ç—É, —Å—Ç–∞–ª–æ –≤—Å—ë –Ω–∞–º–Ω–æ–≥–æ –ª—É—á—à–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

–°–µ–≥–æ–¥–Ω—è –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å:

* –ª–∞–π—Ñ—Å–∞–π–∫–ª–∞–º–∏,
* Error Boundaries,
* –∫–ª–∞—Å—Å–∞–º–∏,
* `this`,
* –∫–ª–æ–∂–∞–º–∏ (–æ–Ω–∏ –∂–µ –∑–∞–º—ã–∫–∞–Ω–∏—è),
* –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è–º–∏,
* —Ä–∞–±–æ—Ç–æ–π —Å–æ –≤—Å–µ–º —ç—Ç–∏–º –≤ –†–µ–∞–∫—Ç–µ

–ì–ª–∞–≤–Ω—ã–π –≤—ã–≤–æ–¥: –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã —Å—Ç–µ–π—Ç—ã –∏–ª–∏ –ª–∞–π—Ñ—Å–∞–π–∫–ª-–º–µ—Ç–æ–¥—ã ‚Äî –∫–ª–∞—Å—Å—ã. –õ–∏–±–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Å—Ç–æ—Ä–æ–Ω—É [reactions/component](https://github.com/reactions/component).

–ö—Å—Ç–∞—Ç–∏, –º—ã –≤ —É—Ä–æ–∫–µ –Ω–µ —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å –≤–æ–ø—Ä–æ—Å–æ–º –∞ –∫–æ–≥–¥–∞ –≤—Å—ë –∂–µ –Ω—É–∂–Ω—ã —Å—Ç–µ–π—Ç—ã –∏–ª–∏ –ª–∞–π—Ñ—Å–∞–π–∫–ª—ã.

### –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã —Å—Ç–µ–π—Ç—ã

–ö–æ–≥–¥–∞ —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **—Å–≤–æ—ë** —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –Ω–µ —Ä–∞–∑–º–∞–∑—ã–≤–∞—Ç—å –ø–æ –¥–≤–∞–¥—Ü–∞—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º —Ç–æ, —á—Ç–æ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –æ–¥–Ω–æ–º –∏ [—Å–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–ø–∞–º–∏](https://medium.com/@jmuse/d86394da2b50), –Ω–æ –∏ —Å–≤–∞–ª–∫—É –Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ.

### –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –ª–∞–π—Ñ—Å–∞–π–∫–ª—ã

–û–±—ã—á–Ω–æ –Ω—É–∂–Ω—ã —Ç—Ä–∏ –ª–∞–π—Ñ—Å–∞–π–∫–ª–∞: `componentDidMount()`, `componentWillReceiveProps(nextProps)` –∏ `componentDidCatch(error, info)`.

* `componentDidMount()` ‚Äî –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–º–µ–Ω–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ —Ä–æ—É—Ç–µ—Ä–µ),
* `componentWillReceiveProps(nextProps)` ‚Äî –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–º–µ–Ω–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ —Ä–æ—É—Ç–µ—Ä–µ, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Å—Ç–∞–ª—Å—è —Ç–µ–º –∂–µ, –∞ –¥–∞–Ω–Ω—ã–µ –Ω–æ–≤—ã–µ),
* `componentDidCatch(error, info)` ‚Äî –∫–æ–≥–¥–∞ –ø–æ–π–º–∞–ª–∏ –æ—à–∏–±–∫—É.
